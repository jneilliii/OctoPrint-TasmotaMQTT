<form class="form-horizontal">
	<table class="table table-condensed" data-bind='visible: settingsViewModel.settings.plugins.tasmota_mqtt.arrRelays().length > 0'>
		<thead>
			<tr>
				<td style="text-align:center">Topic</td>
				<td style="text-align:center">Relay #</td>
				<td style="text-align:center">Warn</td>
				<td style="text-align:center">GCODE</td>
				<td style="text-align:center"><a href="#" class="btn btn-mini icon-plus" data-bind="click: addRelay"></a></td>
			</tr>
		</thead>
		<tbody data-bind='foreach: settingsViewModel.settings.plugins.tasmota_mqtt.arrRelays'>
			<tr data-bind='attr: {title: (topic()+"|"+relayN())}' class="info">
				<td><input type="text" class="input-block-level" data-bind='value: topic, uniqueName: true' /></td>
				<td><input type="text" class="input-block-level" data-bind='value: relayN, uniqueName: true' /></td>
				<td style="text-align:center"><input type="checkbox" data-bind="checked: warn, uniqueName: true"/></td>
				<td style="text-align:center"><input type="checkbox" data-bind="checked: gcode, uniqueName: true"/></td>
				<td style="text-align:center">
					<a href="#" class="icon-pencil" data-bind="click: $root.editRelay"></a>
					<a href="#" class="icon-trash" data-bind="click: $root.removeRelay, visible: $root.settingsViewModel.settings.plugins.tasmota_mqtt.arrRelays().length > 1"></a> </td>
			</tr>
		</tbody>
	</table>
	<div id="TasmotaMQTTRelayEditor" data-bind="with: selectedRelay" class="modal hide fade">
	    <div class="modal-header">
			<a href="#" class="close" data-dismiss="modal" aria-hidden="true">&times;</a>
			<h3>OctoPrint-TasmotaMQTT</h3>
		</div>
		<div class="modal-body">
			<div class="control-group">
				<div class="controls">
					<input type="text" class="input-block-level" data-bind="value: topic"/>
				</div>
			</div>
			<div class="control-group">
				<div class="controls">
					<input type="text" class="input-block-level" data-bind="value: relayN"/>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<a href="#" class="btn" data-dismiss="modal" aria-hidden="true">{{ _('Cancel') }}</a>
		</div>
	</div>
</form>